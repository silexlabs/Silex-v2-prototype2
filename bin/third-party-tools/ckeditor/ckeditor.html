<!DOCTYPE html>
<!--
Copyright (c) 2003-2012, CKSource - Frederico Knabben. All rights reserved.
For licensing, see LICENSE.html or http://ckeditor.com/license
-->
<html>
<head>
	<title>XHTML Compliant Output &mdash; CKEditor Sample</title>
	<meta charset="utf-8">
	<script src="ckeditor.js"></script>
	<style type="text/css">
		body{

		}
		.cke_chrome{
			margin: 0 !important;
			padding: 0 !important;
			border-radius: 0 !important;
			border-width: 0 !important;
		}
		.cke_inner{
			border-radius: 0 !important;
		}
	</style>
</head>
<body>
	<textarea cols="80" id="editor1" name="editor1" rows="10">
	</textarea>
	<script>
		document.getElementById("editor1").innerHTML = window.parent.CKEDITOR.textContent;

		editorInstance = CKEDITOR.replace( 'editor1', {
			/*
			 * Style sheet for the contents
			 */
			contentsCss: 'outputxhtml.css',
	        height: 400,
	        width: "100%",
			/*
			 * Font face.
			 */
			// List of fonts available in the toolbar combo. Each font definition is
			// separated by a semi-colon (;). We are using class names here, so each font
			// is defined by {Combo Label}/{Class Name}.
//			font_names : 'Comic Sans MS/FontComic;Courier New/FontCourier;Times New Roman/FontTimes',

			// Define the way font elements will be applied to the document. The "span"
			// element will be used. When a font is selected, the font name defined in the
			// above list is passed to this definition with the name "Font", being it
			// injected in the "class" attribute.
			// We must also instruct the editor to replace span elements that are used to
			// set the font (Overrides).
/*			font_style: {
				element: 'span',
				attributes: { 'class': '#(family)' },
				overrides: [
					{
						element: 'span',
						attributes: {
							'class': /^Font(?:Comic|Courier|Times)$/
						}
					}
				]
			},
*/
			/*
			 * Font sizes.
			 */
//			fontSize_sizes: 'Smaller/FontSmaller;Larger/FontLarger;8pt/FontSmall;14pt/FontBig;Double Size/FontDouble',
/*			fontSize_style: {
				element: 'span',
				attributes: { 'class' : '#(size)' },
				overrides: [
					{
						element: 'span',
						attributes: {
							'class' : /^Font(?:Smaller|Larger|Small|Big|Double)$/
						}
					}
				]
			} ,
*/
			/*
			 * Font colors.
			 */
//			colorButton_enableMore : false,

//			colorButton_colors: 'FontColor1/FF9900,FontColor2/0066CC,FontColor3/F00',
/*			colorButton_foreStyle: {
				element: 'span',
				attributes: { 'class' : '#(color)' },
				overrides: [
					{
						element: 'span',
						attributes: {
							'class': /^FontColor(?:1|2|3)$/
						}
					}
				]
			},

			colorButton_backStyle: {
				element : 'span',
				attributes: { 'class': '#(color)BG' },
				overrides: [
					{
						element : 'span',
						attributes : {
							'class' : /^FontColor(?:1|2|3)BG$/
						}
					}
				]
			},
*/
			/*
			 * Indentation.
			 */
//			indentClasses: [ 'Indent1', 'Indent2', 'Indent3' ],

			/*
			 * Paragraph justification.
			 */
//			justifyClasses: [ 'JustifyLeft', 'JustifyCenter', 'JustifyRight', 'JustifyFull' ],

			/*
			 * Styles combo.
			 */
			stylesSet: [
				{ name: 'Strong Emphasis', element: 'strong' },
				{ name: 'Emphasis', element: 'em' },

				{ name: 'Computer Code', element: 'code' },
				{ name: 'Keyboard Phrase', element: 'kbd' },
				{ name: 'Sample Text', element: 'samp' },
				{ name: 'Variable', element: 'var' },

				{ name: 'Deleted Text', element: 'del' },
				{ name: 'Inserted Text', element: 'ins' },

				{ name: 'Cited Work', element: 'cite' },
				{ name: 'Inline Quotation', element: 'q' }
			]
		});

		editorInstance.on("instanceReady", function(){

			// listen the keyboard events to call the callback when the user enters text
			editorInstance.document.on("keyup", onUserInput);
			// for the menu buttons 
			window.document.addEventListener("mousedown", function(){
				setTimeout(onUserInput, 500);
			}, false);
			// for the combo boxes to be taken into account
			timer = setInterval(onUserInput,1000);

		});

		function onUserInput(){
			//console.log("onUserInput");
			window.parent.CKEDITOR.textContent = editorInstance.getData();
			window.parent.CKEDITOR.callBack(window.parent.CKEDITOR.textContent);
		}

	</script>
</body>
</html>
